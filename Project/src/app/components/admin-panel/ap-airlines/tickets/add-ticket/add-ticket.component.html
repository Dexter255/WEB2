<div class="container mt-3 ml-5">
    <h3> {{ header }} </h3>
    <form [formGroup]="addTicket" (ngSubmit)="onSubmit()" autocomplete="off">
        <input type="hidden" formControlName="airlineId">
        <input type="hidden" formControlName="ticketId">
        <div class="form-group row" formGroupName="destination">
            <label for="startDestination" class="col-md-2 col-form-label">Take off destination</label>
            <div class="col-md-4">
                <select class="custom-select" formControlName="startDestination" data-live-search="true">
                    <option *ngFor="let destination of destinations" [ngValue]="destination.City">{{destination.City}}
                    </option>
                </select>
                <span
                    *ngIf="!this.addTicket.get('destination').get('startDestination').valid && this.addTicket.get('destination').get('startDestination').touched">
                    <span *ngIf="this.addTicket.get('destination').get('startDestination').errors['required']">Choose
                        take off destination!</span>
                </span>
            </div>
            <div class="col-md-2 text-center">
                landing destination
            </div>
            <div class="col-md-4">
                <select class="custom-select" formControlName="endDestination">
                    <option *ngFor="let destination of destinations" [ngValue]="destination.City">{{destination.City}}
                    </option>
                </select>
                <span
                    *ngIf="!this.addTicket.get('destination').get('endDestination').valid && this.addTicket.get('destination').get('endDestination').touched">
                    <span *ngIf="this.addTicket.get('destination').get('endDestination').errors['required']">Choose
                        landing destination!</span>
                </span>
                <span *ngIf="addTicket.get('destination').errors !== null">
                    <span *ngIf="this.addTicket.get('destination').errors['sameDestination']">Take off and landing
                        destination cannot be same!</span>
                </span>
            </div>
        </div>
        <div class="form-group row">
            <label for="startDateAndTime" class="col-md-2 col-form-label">Take off</label>
            <div class="col-md-4">
                <input type="datetime-local" class="form-control" id="startDateAndTime"
                    formControlName="startDateAndTime">
                <span
                    *ngIf="!this.addTicket.get('startDateAndTime').valid && this.addTicket.get('startDateAndTime').touched">
                    <span *ngIf="this.addTicket.get('startDateAndTime').errors['required']">Take off
                        date and time must be entered!</span>
                    <span *ngIf="this.addTicket.get('startDateAndTime').errors['currentDate']">Take
                        off cannot be smaller than current date and time!</span>
                </span>
            </div>
        </div>
        <div class="form-group row">
            <label for="ticketPrice" class="col-md-2 col-form-label">Ticket price</label>
            <div class="col-md-4">
                <input type="text" class="form-control" id="ticketPrice" formControlName="ticketPrice">
                <span *ngIf="!this.addTicket.get('ticketPrice').valid && this.addTicket.get('ticketPrice').touched">
                    <span *ngIf="this.addTicket.get('ticketPrice').errors['required']">Ticket price must be
                        entered!</span>
                    <span *ngIf="this.addTicket.get('ticketPrice').errors['pattern']">Only numbers from 0-9 are
                        allowed!</span>
                </span>
            </div>
        </div>
        <div class="form-group row">
            <label for="discount" class="col-md-2 col-form-label">Discount</label>
            <div class="col-md-4">
                <input type="text" class="form-control" id="discount" formControlName="discount">
                <span *ngIf="!this.addTicket.get('discount').valid && this.addTicket.get('discount').touched">
                    <span *ngIf="this.addTicket.get('discount').errors['required']">Ticket price must be
                        entered!</span>
                    <span *ngIf="this.addTicket.get('discount').errors['pattern']">Only numbers from 0-9 are
                        allowed!</span>
                </span>
            </div>
        </div>
        <div class="ml-5">
            <button class="btn btn-success" [disabled]="!addTicket.valid" type="submit"> {{ header }} </button>
        </div>
    </form>
</div>