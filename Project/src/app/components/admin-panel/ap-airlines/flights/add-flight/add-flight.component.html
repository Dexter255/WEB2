<div class="container mt-3 ml-5">
    <h3>Add flight</h3>
    <form [formGroup]="addFlight" (ngSubmit)="onSubmit()" autocomplete="off">
        <!-- <input type="hidden" formControlName="companyId">
        <input type="hidden" formControlName="vehicleId"> -->
        <!-- <div class="form-group row">
            <label for="startDestination" class="col-md-2 col-form-label">Start destination</label>
            <div class="col-md-3">
                <input type="text" class="form-control" id="startDestination" formControlName="startDestination">
            </div>
        </div> -->
        <div class="form-group row">
            <label for="startDestination" class="col-md-2 col-form-label">Start destination</label>
            <div class="col-md-3">
                <select class="custom-select" formControlName="startDestination">
                    <option *ngFor="let destination of destinations" [ngValue]="destination.City">{{destination.City}}</option>
                 </select>
            </div>
        </div>
        
        <div class="form-group row">
            <label for="endDestination" class="col-md-2 col-form-label">End destination</label>
            <div class="col-md-3">
                <input type="text" class="form-control" id="endDestination" formControlName="endDestination">
            </div>
        </div>
        <div class="form-group row">
            <label for="startDateAndTime" class="col-md-2 col-form-label">Take off date and time</label>
            <div class="col-md-3">
                <input type="datetime-local" class="form-control" id="startDateAndTime"
                    formControlName="startDateAndTime">
            </div>
        </div>
        <div class="form-group row">
            <label for="endDateAndTime" class="col-md-2 col-form-label">Landing date and time</label>
            <div class="col-md-3">
                <input type="datetime-local" class="form-control" id="endDateAndTime" formControlName="endDateAndTime">
            </div>
        </div>
        <div class="form-group row">
            <label for="hours" class="col-md-2 col-form-label">Duration</label>
            <div class="col-md-3">
                <input type="time" class="form-control" id="hours" formControlName="hours">
            </div>
        </div>
        <div class="form-group row">
            <label for="distance" class="col-md-2 col-form-label">Distance</label>
            <div class="col-md-3">
                <input type="text" class="form-control" id="distance" formControlName="distance">
            </div>
        </div>
        <div class="form-group row">
            <label for="destinations" class="col-md-2 col-form-label">Flight transfer(s)</label>
            <div class="col-md-2">
                <button type="button" class="btn btn-success" (click)="onAddLocation()">Add flight transfer</button>
            </div>
            <div class="col-md-8" formArrayName="locations">
                <div class="form-group" *ngFor="let location of addFlight.get('locations')['controls']; let i = index">
                    <div class="row">
                        <div class="col-md-4">
                            <input title="Location" type="text" class="form-control" [formControlName]="i"
                                placeholder="Location">
                            <span
                                *ngIf="!this.addFlight.get('locations')['controls'][i].valid && this.addFlight.get('locations')['controls'][i].touched">
                                <span *ngIf="this.addFlight.get('locations')['controls'][i].errors['required']">Location
                                    must be entered!</span>
                                <span
                                    *ngIf="this.addFlight.get('locations')['controls'][i].errors['minlength']">Location
                                    must be atlest 2 characters!</span>
                            </span>
                        </div>
                        <div>
                            <button class="btn btn-danger" type="button" (click)="onDeleteLocation(i)">Delete</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="ticketPrice" class="col-md-2 col-form-label">Ticket price</label>
            <div class="col-md-3">
                <input type="text" class="form-control" id="ticketPrice" formControlName="ticketPrice">
            </div>
        </div>
        <div class="ml-5">
            <button class="btn btn-success" [disabled]="!addFlight.valid" type="submit"> Add flight </button>
        </div>
    </form>
</div>