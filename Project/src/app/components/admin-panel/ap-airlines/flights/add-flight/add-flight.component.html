<div class="container mt-3 ml-5">
    <h3>Add flight</h3>
    <form [formGroup]="addFlight" (ngSubmit)="onSubmit()" autocomplete="off">
        <!-- <input type="hidden" formControlName="companyId">
        <input type="hidden" formControlName="vehicleId"> -->
        <div class="form-group row">
            <label for="takeOffDateTime" class="col-md-2 col-form-label">Take off date and time</label>
            <div class="col-md-3">
                <input type="datetime-local" class="form-control" id="takeOffDateTime" formControlName="takeOffDateTime">
            </div>
            <!-- <div class="col-md-7">
                <span *ngIf="!addVehicle.get('brand').valid && addVehicle.get('brand').touched">
                    <span *ngIf="addVehicle.get('brand').errors['required']">Brand must be entered!</span>
                    <span *ngIf="addVehicle.get('brand').errors['minlength']">Brand must be atleast 2 characters!</span>
                </span>
            </div> -->
        </div>
        <div class="form-group row">
            <label for="landingDateTime" class="col-md-2 col-form-label">Landing date and time</label>
            <div class="col-md-3">
                <input type="datetime-local" class="form-control" id="landingDateTime" formControlName="landingDateTime">
            </div>
        </div>
        <div class="form-group row">
            <label for="flightDuration" class="col-md-2 col-form-label">Flight duration</label>
            <div class="col-md-3">
                <input type="time" class="form-control" id="flightDuration" formControlName="flightDuration">
            </div>
        </div>
        <div class="form-group row">
            <label for="flightLength" class="col-md-2 col-form-label">Flight length</label>
            <div class="col-md-3">
                <input type="text" class="form-control" id="flightLength" formControlName="flightLength">
            </div>
        </div>
        <div class="form-group row">
            <label for="destinations" class="col-md-2 col-form-label">Destinations</label>
            <div class="col-md-2">
                <button type="button" class="btn btn-success" (click)="onAddDestination()">Add destination</button>
            </div>
            <div class="col-md-8" formArrayName="destinations">
                <div class="form-group" *ngFor="let destination of addFlight.get('destinations')['controls']; let i = index">
                    <div class="row">
                        <div class="col-md-4">
                            <input title="Destination" type="text" class="form-control" [formControlName]="i" placeholder="Destination">
                            <span *ngIf="!this.addFlight.get('destinations')['controls'][i].valid && this.addFlight.get('destinations')['controls'][i].touched">
                                <span *ngIf="this.addFlight.get('destinations')['controls'][i].errors['required']">Destination must be entered!</span>
                                <span *ngIf="this.addFlight.get('destinations')['controls'][i].errors['minlength']">Destination must be atlest 4 characters!</span>
                            </span>
                        </div>
                        <div>
                            <button class="btn btn-danger" type="button" (click)="onDeleteDestination(i)">Delete</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="flightTicketPrice" class="col-md-2 col-form-label">Flight ticket price</label>
            <div class="col-md-3">
                <input type="text" class="form-control" id="flightTicketPrice" formControlName="flightTicketPrice">
            </div>
        </div>
        <div class="ml-5">
            <button class="btn btn-success" [disabled]="!addFlight.valid" type="submit"> Add flight </button>
        </div>
    </form>
</div>